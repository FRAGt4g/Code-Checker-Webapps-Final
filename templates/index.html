<!doctype html>
<html>
<head>
  <title>Python Flask ReplAuth</title>
  <script src="https://replit.com/public/js/repl-auth-v2.js"></script>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
  <script>
    alert(JSON.parse('{{ js_labs }}'))
    const python_labs = JSON.parse('{{ js_labs }}')
    alert(python_labs)
  </script>
  <script src="{{ url_for('static', filename='main.js') }}"></script>
</head>
<body>
  <h1>
    Code Checker!
  </h1>
  <p>
    This is a simple code checker that will check if your code is correct.
  </p>
  <div id='submission'>
    <h1>
        Input file here:
    </h1>
    <form action="/submit" method="post" enctype="multipart/form-data">    
      <label> AISD #: </label>
      <input name="ID" type="number">
      
      <br>
      <label for="lab name">Lab name</label>
      <input name="lab name" type="text">

      <select name="lab name" id="labs" onchange="updateLab(this)">
        {% for lab in labs %}
          <option value="{{ lab }}">{{lab}} {{labs[lab].filetypes}}</option>
        {% endfor %}
      </select>

      <br>

      <label> Inputed Files:  </label>
      <input name="files[]" type="file" id="files" multiple>
      <button type="submit">Submit</button>
    </form>
  </div>
  <h1>
    Grade would be a {{ results.grade }}%
  </h1>
  <div>
    <h2>
      Conditions failed:
    </h2>
    <ul>
      
      {% for fault in results.failures %}
      <li>
        <p>
          Grade level: {{ fault[0] }}
          <br>
          Requirement: {{ fault[1] }}
        </p>
      </li>
      {% endfor %}
    </ul>
  </div>
  {{ results.output }}
  <!-- <div id='run'>
    <h1>
      Regex expression for the output of all submissions:
    </h1>
    <form action="/run" method="post" enctype="multipart/form-data">
      <input name="requirements" type="text">
      <button type="submit">Submit</button>
    </form>  
  </div> -->
</body>
</html>
